{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Cart - FlyMart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/view_cart.css' %}">
</head>
<body>
    <div class="container mt-4">
    <h1 class="mb-4">Your Shopping Cart</h1>

        {% if cart_items %}
            {% for item in cart_items %}
                {% if item.product_farmer %}
                    <a href="{% url 'negotiate_product' item.product_farmer.id %}" class="text-decoration-none text-body">
                        <div class="card mb-3 cart-item">
                            <div class="card-body d-flex align-items-center">
                                <img src="{{ item.product_farmer.images.url }}" class="img-fluid me-3" alt="{{ item.product_farmer.productName }}" style="max-width: 100px;">
                                <div>
                                    <h5 class="mb-1">{{ item.product_farmer.productName }}</h5>
                                    <p class="text-muted small mb-0">{{ item.product_farmer.description }}</p>
                                </div>
                            </div>
                        </div>
                    </a>
                {% elif item.product_marketplace %}
                    <a href="{% url 'negotiate_product' item.product_marketplace.id %}" class="text-decoration-none text-body">
                        <div class="card mb-3 cart-item">
                            <div class="card-body d-flex align-items-center">
                                <img src="{{ item.product_marketplace.images_market.url }}" class="img-fluid me-3" alt="{{ item.product_marketplace.name }}" style="max-width: 100px;">
                                <div>
                                    <h5 class="mb-1">{{ item.product_marketplace.name }}</h5>
                                    <p class="text-muted small mb-0">{{ item.product_marketplace.description }}</p>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endif %}
            {% endfor %}
        {% else %}
            <div class="alert alert-info">Your cart is empty.</div>
        {% endif %}
    </div>
</body>
</html>
